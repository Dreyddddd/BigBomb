<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIG BOOM: Tournament</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div id="gameContainer">
    <canvas id="gameCanvas"></canvas>
    
    <div id="ui-layer" style="display:none;">
        <div class="top-hud">
            <div class="hud-left">
                <div class="hud-panel">‚ù§Ô∏è <span id="hp-display" style="color:#e74c3c">100</span>%</div>
                <div class="hud-panel">üéØ <span id="frag-goal-display">10</span></div>
            </div>
            
            <!-- TEAM SCORE HUD -->
            <div class="hud-center" id="team-hud" style="display:none;">
                <div class="score-container">
                    <div class="score-box score-blue"><span id="score-blue">0</span> üîµ</div>
                    <div class="score-box" style="color:#aaa;">VS</div>
                    <div class="score-box score-red">üî¥ <span id="score-red">0</span></div>
                </div>
                <div id="ctf-respawn-timer" class="respawn-timer">–†–ï–°–ü–ê–£–ù: <span id="respawn-time-val">20</span></div>
            </div>

            <!-- RIGHT HUD: Leaderboard & Controls Hint -->
            <div class="hud-right">
                <div class="controls-hint">WASD - –î–≤–∏–∂–µ–Ω–∏–µ | –õ–ö–ú - –û–≥–æ–Ω—å | 1-7 - –û—Ä—É–∂–∏–µ | TAB - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | ESC - –ü–∞—É–∑–∞</div>
                <div class="leaderboard" id="leaderboard"></div>
            </div>
        </div>
        
        <div class="inventory-bar" id="inventory-container"></div>
    </div>

    <!-- STATS OVERLAY (Scrollable) -->
    <div id="stats-overlay">
        <h1 class="title-text" style="font-size: 40px; margin-bottom: 20px;">–°–¢–ê–¢–ò–°–¢–ò–ö–ê</h1>
        <div class="stats-container">
            <table class="stats-table">
                <thead>
                    <tr>
                        <th>–ò–º—è</th>
                        <th>–£–±–∏–π—Å—Ç–≤–∞</th>
                        <th>–°–º–µ—Ä—Ç–∏</th>
                        <th>–ö–æ–º–∞–Ω–¥–∞</th>
                    </tr>
                </thead>
                <tbody id="stats-body">
                    <!-- Content injected by JS -->
                </tbody>
            </table>
        </div>
        <div style="margin-top: 20px; color: #888;">TAB - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
    </div>

    <!-- MAIN MENU -->
    <div id="start-screen" class="screen-overlay">
        <h1 class="title-text big-boom-title">
            <span class="word-big">BIG</span> <span class="word-boom">BOOM</span>
        </h1>
        <input type="text" id="nickname-input" placeholder="–í–í–ï–î–ò –ù–ò–ö–ù–ï–ô–ú" maxlength="12" style="display:none;">
        <div class="btn-group-col">
            <button class="btn-main" onclick="openLobby('MENU')">–ò–ì–†–ê–¢–¨</button>
        </div>
    </div>

    <!-- LOBBY SCREEN -->
    <div id="lobby-screen" class="screen-overlay">
        <h1 class="title-text" style="font-size: 60px;">–õ–û–ë–ë–ò</h1>
        <div class="lobby-grid">
            <div class="lobby-panel">
                <div class="settings-group">
                    <label>–ù–∏–∫–Ω–µ–π–º:</label>
                    <input type="text" id="lobby-nickname-input" placeholder="–í–í–ï–î–ò –ù–ò–ö–ù–ï–ô–ú" maxlength="12">
                </div>
                <div class="settings-group">
                    <label>–†–µ–∂–∏–º –ò–≥—Ä—ã:</label>
                    <select id="game-mode-select" onchange="updateLobbyUI()">
                        <option value="DM">–ö–∞–∂–¥—ã–π —Å–∞–º –∑–∞ —Å–µ–±—è</option>
                        <option value="TDM">–ö–æ–º–∞–Ω–¥–Ω—ã–π –ë–æ–π</option>
                        <option value="CTF">–ó–∞—Ö–≤–∞—Ç –§–ª–∞–≥–∞</option>
                    </select>
                </div>
                <div class="settings-group">
                    <label>–ë–æ—Ç–æ–≤: <span id="bot-count-val" style="color:#f1c40f">5</span></label>
                    <input type="range" id="bot-count-input" min="1" max="20" value="5" oninput="updateLobbyUI()">
                </div>
                <div class="settings-group">
                    <label>–¶–µ–ª—å –ü–æ–±–µ–¥—ã: <span id="frag-limit-val" style="color:#f1c40f">10</span></label>
                    <input type="range" id="frag-limit-input" min="1" max="50" value="10" oninput="updateLobbyUI()">
                </div>
            </div>
            <div class="lobby-panel">
                <canvas id="lobby-preview" width="160" height="160"></canvas>
                <div class="settings-group compact">
                    <label>–ì–æ–ª–æ–≤–∞:</label>
                    <select id="player-head-select"></select>
                </div>
            </div>
        </div>
        <div class="btn-group">
            <button class="btn-main" onclick="startGameFromLobby()">–í –ë–û–ô</button>
            <button class="btn-main btn-sec" onclick="closeLobby()">–ù–ê–ó–ê–î</button>
        </div>
    </div>

    <!-- PAUSE MENU -->
    <div id="pause-menu" class="screen-overlay">
        <h1 class="title-text" style="font-size: 64px; color: #f1c40f;">–ü–ê–£–ó–ê</h1>
        <div class="btn-group-col">
            <button class="btn-main" onclick="togglePause()">–ü–†–û–î–û–õ–ñ–ò–¢–¨</button>
            <button class="btn-main btn-sec" onclick="restartGame()">–ó–ê–ù–û–í–û</button>
            <button class="btn-main btn-sec" onclick="openLobby('PAUSE')">–õ–û–ë–ë–ò</button>
            <button class="btn-main btn-sec" onclick="goToMenu()">–í –ú–ï–ù–Æ</button>
        </div>
    </div>

    <div id="round-over-screen" class="screen-overlay">
        <h1 class="title-text" style="font-size: 64px; color: #f1c40f;">–†–ê–£–ù–î –ó–ê–í–ï–†–®–ï–ù</h1>
        <div class="subtitle-text" id="round-winner-text" style="color: #eee;">–ü–æ–±–µ–¥–∏—Ç–µ–ª—å —Ä–∞—É–Ω–¥–∞: ...</div>
        <div class="subtitle-text">–ù–æ–≤—ã–π —Ä–∞—É–Ω–¥ –Ω–∞—á–Ω–µ—Ç—Å—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫...</div>
    </div>

    <div id="game-over-screen" class="screen-overlay">
        <h1 id="overlay-title" class="title-text" style="font-size: 80px;">–ü–û–ë–ï–î–ò–¢–ï–õ–¨ –¢–£–†–ù–ò–†–ê</h1>
        <div id="overlay-subtitle" class="subtitle-text" style="color: #f1c40f; font-size: 40px; font-weight:bold;">–ò–º—è</div>
        <div class="btn-group">
            <button class="btn-main" onclick="restartGame()">–ó–ê–ù–û–í–û</button>
            <button class="btn-main btn-sec" onclick="goToMenu()">–ú–ï–ù–Æ</button>
        </div>
    </div>
</div>

<script src="game.js"></script>
</body>
</html>
